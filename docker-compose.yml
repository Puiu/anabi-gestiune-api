version: '3'
services:
  anabi-gestiune-api:
    image: anabi-gestiune-api
    restart: always
    build: .
    ports:
      - 3000:3000
    depends_on:
      - db

  db:
    image: microsoft/mssql-server-linux
    restart: always
    environment:
      SA_PASSWORD: Puiu2108####
      ACCEPT_EULA: Y
    volumes:
      - mssql-storage:/var/opt/mssql
    # Export SQL port so that we can connect to it, see Db, and also develop on local computer
    ports:
      - 1433:1433

volumes:
  mssql-storage:
